<!DOCTYPE html>
<html lang="hi">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Stylish Todo — Final</title>
  <style>
    :root{
      --bg1: #0f172a;      /* dark */
      --card: rgba(255,255,255,0.06);
      --glass: rgba(255,255,255,0.06);
      --accent1: #06b6d4;  /* cyan */
      --accent2: #7c3aed;  /* purple */
      --success: #22c55e;
      --danger: #ef4444;
      --muted: rgba(255,255,255,0.7);
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family:Inter,system-ui,Segoe UI,Roboto,Arial;
      background: radial-gradient(1200px 600px at 10% 10%, rgba(124,58,237,0.12), transparent 6%),
                  radial-gradient(900px 500px at 90% 90%, rgba(6,182,212,0.08), transparent 6%),
                  linear-gradient(180deg,#071028 0%, #07172a 100%);
      color: #e6eef8;
      display:flex;
      align-items:center;
      justify-content:center;
      padding:28px;
    }

    .wrap{
      width:100%;
      max-width:980px;
      display:grid;
      grid-template-columns: 1fr 420px;
      gap:28px;
      align-items:start;
    }

    /* Left: Hero / Input + list */
    .left{
      background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
      border-radius:14px;
      padding:20px;
      backdrop-filter: blur(8px) saturate(120%);
      border:1px solid rgba(255,255,255,0.04);
      box-shadow: 0 10px 30px rgba(2,6,23,0.6);
      min-height:420px;
    }

    .header-row{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:12px;
      margin-bottom:14px;
    }
    .title{
      display:flex;
      gap:12px;
      align-items:center;
    }
    .logo{
      width:46px; height:46px; border-radius:10px;
      background: linear-gradient(135deg,var(--accent1),var(--accent2));
      display:inline-grid; place-items:center; font-weight:700; color:#021028;
      box-shadow: 0 6px 18px rgba(124,58,237,0.18);
    }
    h1{font-size:20px;margin:0}
    .sub{font-size:13px;color:var(--muted)}

    /* input area */
    .input-area{display:flex; gap:10px; margin-top:8px}
    .input{
      flex:1; padding:12px 14px; border-radius:10px; border:none; outline:none;
      background: rgba(0,0,0,0.22); color: #eaf6ff; font-size:15px;
      box-shadow: inset 0 -1px 0 rgba(255,255,255,0.02);
    }
    .btn{
      padding:10px 14px; border-radius:10px; border:none; cursor:pointer; font-weight:600;
      background: linear-gradient(180deg,var(--accent1), #00a5c4);
      color:#021028; box-shadow: 0 8px 20px rgba(6,182,212,0.08);
    }
    .btn:active{transform:translateY(1px)}

    /* list */
    .list{margin-top:18px; display:flex; flex-direction:column; gap:10px; max-height:420px; overflow:auto; padding-right:6px}
    .task{
      display:flex; align-items:center; justify-content:space-between; gap:12px;
      background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
      padding:12px; border-radius:10px; transition:all .18s ease;
      border: 1px solid rgba(255,255,255,0.02);
    }
    .task:hover{transform:translateY(-3px)}
    .task-left{display:flex; gap:12px; align-items:center; min-width:0}
    .check{
      width:18px; height:18px; border-radius:6px; border:2px solid rgba(255,255,255,0.08);
      display:inline-grid; place-items:center; cursor:pointer;
      background:transparent;
    }
    .check.checked{background:linear-gradient(90deg,var(--accent1),var(--accent2)); border:none; color:#021028}

    .text{font-size:15px; color:var(--muted); white-space:nowrap; overflow:hidden; text-overflow:ellipsis}
    .text.done{ text-decoration:line-through; opacity:0.6; color:#9fb8c9; white-space:normal }

    .task-right{display:flex; gap:8px; align-items:center}
    .icon-btn{
      background:transparent; border:1px solid rgba(255,255,255,0.04); color:var(--muted);
      padding:6px 8px; border-radius:8px; cursor:pointer; font-weight:600;
    }
    .icon-btn.danger{ border-color: rgba(239,68,68,0.22); color:#ffd6d6 }

    .meta{display:flex; gap:8px; align-items:center; color:var(--muted); font-size:13px}

    /* right panel */
    .right{
      background: linear-gradient(180deg, rgba(124,58,237,0.06), rgba(6,182,212,0.03));
      border-radius:14px; padding:18px; min-height:420px; border:1px solid rgba(255,255,255,0.03);
      display:flex; flex-direction:column; gap:12px; justify-content:flex-start;
    }
    .card-title{font-weight:700; font-size:16px}
    .stats{display:flex; gap:10px; flex-wrap:wrap}
    .stat{
      background: rgba(255,255,255,0.03); padding:12px; border-radius:10px; min-width:120px;
      display:flex; flex-direction:column; gap:6px;
    }
    .stat .num{font-size:20px; font-weight:700; color:#fff}
    .muted-sm{color:var(--muted); font-size:13px}

    /* clear all */
    .clear{
      margin-top:auto; display:flex; gap:8px; align-items:center; justify-content:space-between;
    }
    .clear .danger{background:transparent; border:1px solid rgba(239,68,68,0.18); padding:8px 12px; border-radius:10px; color:#ffd6d6; cursor:pointer}

    /* empty state */
    .empty{padding:28px; text-align:center; color:var(--muted); border-radius:10px; background: rgba(255,255,255,0.02)}

    /* responsive */
    @media (max-width:980px){
      .wrap{grid-template-columns:1fr; max-width:760px}
      .right{order:2}
    }
    @media (max-width:520px){
      .left{padding:14px}
      .input{padding:10px}
      .btn{padding:10px}
    }

    /* small scrollbar */
    .list::-webkit-scrollbar{width:8px}
    .list::-webkit-scrollbar-thumb{background:rgba(255,255,255,0.03);border-radius:8px}
  </style>
</head>
<body>
  <div class="wrap" role="application" aria-label="Todo app">
    <section class="left" aria-labelledby="appTitle">
      <div class="header-row">
        <div class="title">
          <div class="logo">TL</div>
          <div>
            <h1 id="appTitle">Todo — Stylish</h1>
            <div class="sub">Simple, fast & persistent</div>
          </div>
        </div>
        <div class="meta" id="counts">
          <div id="total">0 items</div>
        </div>
      </div>

      <div class="input-area" aria-label="Add task">
        <input id="taskInput" class="input" placeholder="Type a task and press Enter or Add" />
        <button id="addBtn" class="btn" title="Add task">Add</button>
      </div>

      <div class="list" id="taskList" aria-live="polite"></div>

      <div id="empty" class="empty" style="display:none">No tasks yet — add something ✨</div>
    </section>

    <aside class="right" aria-labelledby="panelTitle">
      <div>
        <div class="card-title" id="panelTitle">Overview</div>
        <div class="muted-sm">Quick stats about your tasks</div>
      </div>

      <div class="stats">
        <div class="stat">
          <div class="muted-sm">Total</div>
          <div class="num" id="statTotal">0</div>
        </div>
        <div class="stat">
          <div class="muted-sm">Completed</div>
          <div class="num" id="statDone">0</div>
        </div>
        <div class="stat">
          <div class="muted-sm">Pending</div>
          <div class="num" id="statPending">0</div>
        </div>
      </div>

      <div class="clear">
        <div class="muted-sm">Manage tasks</div>
        <div>
          <button id="clearDone" class="icon-btn">Clear done</button>
          <button id="clearAll" class="icon-btn danger">Clear all</button>
        </div>
      </div>
    </aside>
  </div>

  <script>
    // ======= App logic =======
    const input = document.getElementById('taskInput');
    const addBtn = document.getElementById('addBtn');
    const listEl = document.getElementById('taskList');
    const emptyEl = document.getElementById('empty');
    const statTotal = document.getElementById('statTotal');
    const statDone = document.getElementById('statDone');
    const statPending = document.getElementById('statPending');
    const totalLabel = document.getElementById('total');

    // Get tasks from localStorage
    function getTasks(){
      try { return JSON.parse(localStorage.getItem('todos') || '[]'); }
      catch(e){ return []; }
    }
    function saveTasks(arr){ localStorage.setItem('todos', JSON.stringify(arr)); render(); }

    // render UI
    function render(){
      const tasks = getTasks();
      listEl.innerHTML = '';
      if(tasks.length === 0){
        emptyEl.style.display = 'block';
      } else {
        emptyEl.style.display = 'none';
      }

      tasks.forEach((t, idx) => {
        const li = document.createElement('div');
        li.className = 'task';
        li.dataset.index = idx;

        const left = document.createElement('div'); left.className='task-left';
        const chk = document.createElement('div'); chk.className='check';
        chk.innerHTML = t.done ? '✓' : '';
        if(t.done) chk.classList.add('checked');
        chk.title = t.done ? 'Mark as not done' : 'Mark as done';
        chk.addEventListener('click', () => toggleDone(idx));
        const txt = document.createElement('div'); txt.className = 'text';
        txt.textContent = t.text;
        if(t.done) txt.classList.add('done');
        left.appendChild(chk); left.appendChild(txt);

        const right = document.createElement('div'); right.className='task-right';
        // edit
        const editBtn = document.createElement('button'); editBtn.className='icon-btn'; editBtn.textContent='Edit';
        editBtn.addEventListener('click', () => editTask(idx));
        // delete
        const delBtn = document.createElement('button'); delBtn.className='icon-btn danger'; delBtn.textContent='Delete';
        delBtn.addEventListener('click', () => removeTask(idx));
        right.appendChild(editBtn); right.appendChild(delBtn);

        li.appendChild(left); li.appendChild(right);
        listEl.appendChild(li);
      });

      // stats
      const total = tasks.length;
      const done = tasks.filter(t => t.done).length;
      const pending = total - done;
      statTotal.textContent = total;
      statDone.textContent = done;
      statPending.textContent = pending;
      totalLabel.textContent = `${total} items`;
    }

    // Actions
    function addTask(){
      const v = input.value.trim();
      if(!v) return input.focus();
      const tasks = getTasks();
      tasks.push({text: v, done: false});
      saveTasks(tasks);
      input.value = '';
      input.focus();
    }

    function toggleDone(i){
      const tasks = getTasks();
      tasks[i].done = !tasks[i].done;
      saveTasks(tasks);
    }

    function removeTask(i){
      const tasks = getTasks();
      tasks.splice(i,1);
      saveTasks(tasks);
    }

    function editTask(i){
      const tasks = getTasks();
      const newVal = prompt('Edit task', tasks[i].text);
      if(newVal === null) return;
      const trimmed = newVal.trim();
      if(!trimmed) return alert('Task cannot be empty');
      tasks[i].text = trimmed;
      saveTasks(tasks);
    }

    // clear done & clear all
    document.getElementById('clearDone').addEventListener('click', () => {
      const tasks = getTasks().filter(t => !t.done);
      saveTasks(tasks);
    });
    document.getElementById('clearAll').addEventListener('click', () => {
      if(!confirm('Are you sure to clear ALL tasks?')) return;
      saveTasks([]);
    });

    // events
    addBtn.addEventListener('click', addTask);
    input.addEventListener('keydown', e => { if(e.key === 'Enter') addTask(); });

    // initial render
    render();
  </script>
</body>
</html>
